{
  "version": 3,
  "sources": ["../src/popup/popup.ts"],
  "sourcesContent": ["/**\r\n * Popup UI Script\r\n * \r\n * Handles user interaction and communicates with the background service worker.\r\n * \r\n * SECURITY NOTES:\r\n * - Master password is sent to background worker and immediately cleared\r\n * - No cryptographic operations happen here\r\n * - All sensitive operations delegated to background worker\r\n */\r\n\r\n// Local interface for extension's password entries\r\ninterface PasswordEntry {\r\n  id: string\r\n  siteName: string\r\n  siteUrl: string\r\n  username: string\r\n  password: string\r\n  notes?: string\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\n// ============================================================================\r\n// DOM Elements\r\n// ============================================================================\r\n\r\n// Screens\r\nconst unlockScreen = document.getElementById('unlock-screen') as HTMLElement\r\nconst vaultScreen = document.getElementById('vault-screen') as HTMLElement\r\nconst addPasswordScreen = document.getElementById('add-password-screen') as HTMLElement\r\n\r\n// Unlock form\r\nconst unlockForm = document.getElementById('unlock-form') as HTMLFormElement\r\nconst userIdInput = document.getElementById('user-id') as HTMLInputElement\r\nconst masterPasswordInput = document.getElementById('master-password') as HTMLInputElement\r\nconst unlockBtn = document.getElementById('unlock-btn') as HTMLButtonElement\r\nconst unlockLoading = document.getElementById('unlock-loading') as HTMLElement\r\nconst unlockError = document.getElementById('unlock-error') as HTMLElement\r\n\r\n// Vault screen\r\nconst lockBtn = document.getElementById('lock-btn') as HTMLButtonElement\r\nconst searchInput = document.getElementById('search-input') as HTMLInputElement\r\nconst vaultList = document.getElementById('vault-list') as HTMLElement\r\nconst emptyState = document.getElementById('empty-state') as HTMLElement\r\nconst addPasswordBtn = document.getElementById('add-password-btn') as HTMLButtonElement\r\n\r\n// Add password form\r\nconst backBtn = document.getElementById('back-btn') as HTMLButtonElement\r\nconst addPasswordForm = document.getElementById('add-password-form') as HTMLFormElement\r\nconst siteNameInput = document.getElementById('site-name') as HTMLInputElement\r\nconst siteUrlInput = document.getElementById('site-url') as HTMLInputElement\r\nconst usernameInput = document.getElementById('username') as HTMLInputElement\r\nconst passwordInput = document.getElementById('password') as HTMLInputElement\r\nconst notesInput = document.getElementById('notes') as HTMLTextAreaElement\r\nconst togglePasswordBtn = document.getElementById('toggle-password') as HTMLButtonElement\r\nconst generatePasswordBtn = document.getElementById('generate-password') as HTMLButtonElement\r\nconst addError = document.getElementById('add-error') as HTMLElement\r\nconst saveBtn = addPasswordForm?.querySelector('button[type=\"submit\"]') as HTMLButtonElement\r\n\r\n\r\n// ============================================================================\r\n// State\r\n// ============================================================================\r\n\r\nlet currentVault: PasswordEntry[] = []\r\nlet currentUserId = ''\r\nlet editingEntryId: string | null = null\r\n\r\n\r\n// ============================================================================\r\n// Initialization\r\n// ============================================================================\r\n\r\nasync function init() {\r\n  // Check if vault is already unlocked\r\n  const status = await sendMessage({ type: 'GET_STATUS' })\r\n  \r\n  if (status && !status.isLocked) {\r\n    await loadVault()\r\n    showScreen('vault')\r\n  } else {\r\n    showScreen('unlock')\r\n  }\r\n  \r\n  // Start heartbeat to keep background script alive while popup is open\r\n  setInterval(() => {\r\n    chrome.runtime.sendMessage({ type: 'HEARTBEAT' }).catch(() => {})\r\n  }, 10000)\r\n\r\n  // Load saved user ID\r\n  const saved = await chrome.storage.local.get(['userId'])\r\n  if (saved.userId) {\r\n    if (userIdInput) userIdInput.value = saved.userId\r\n    currentUserId = saved.userId\r\n  }\r\n}\r\n\r\n\r\n// ============================================================================\r\n// Screen Management\r\n// ============================================================================\r\n\r\nfunction showScreen(screenName: string) {\r\n  if (unlockScreen) unlockScreen.classList.add('hidden')\r\n  if (vaultScreen) vaultScreen.classList.add('hidden')\r\n  if (addPasswordScreen) addPasswordScreen.classList.add('hidden')\r\n  \r\n  switch (screenName) {\r\n    case 'unlock':\r\n      if (unlockScreen) unlockScreen.classList.remove('hidden')\r\n      if (masterPasswordInput) masterPasswordInput.focus()\r\n      break\r\n    case 'vault':\r\n      if (vaultScreen) vaultScreen.classList.remove('hidden')\r\n      if (searchInput) searchInput.focus()\r\n      break\r\n    case 'add-password':\r\n      if (addPasswordScreen) addPasswordScreen.classList.remove('hidden')\r\n      if (siteNameInput) siteNameInput.focus()\r\n      break\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Unlock Vault\r\n// ============================================================================\r\n\r\nif (unlockForm) {\r\n  unlockForm.addEventListener('submit', async (e) => {\r\n    e.preventDefault()\r\n    \r\n    const userId = userIdInput.value.trim()\r\n    const masterPassword = masterPasswordInput.value\r\n    \r\n    if (!userId || !masterPassword) {\r\n      showError(unlockError, 'Please enter both User ID and Master Password')\r\n      return\r\n    }\r\n    \r\n    // Show loading state\r\n    if (unlockBtn) unlockBtn.disabled = true\r\n    if (unlockLoading) unlockLoading.classList.remove('hidden')\r\n    if (unlockError) unlockError.classList.add('hidden')\r\n    \r\n    try {\r\n      // Send unlock request to background worker\r\n      const response = await sendMessage({\r\n        type: 'UNLOCK_VAULT',\r\n        masterPassword,\r\n        userId\r\n      })\r\n      \r\n      if (response && response.success) {\r\n        // SECURITY: Clear master password immediately\r\n        if (masterPasswordInput) masterPasswordInput.value = ''\r\n        \r\n        // Save user ID for convenience\r\n        currentUserId = userId\r\n        await chrome.storage.local.set({ userId })\r\n        \r\n        // Load and display vault\r\n        await loadVault()\r\n        showScreen('vault')\r\n      } else {\r\n        showError(unlockError, (response && response.error) || 'Failed to unlock vault')\r\n      }\r\n    } catch (error: any) {\r\n      showError(unlockError, error.message)\r\n    } finally {\r\n      if (unlockBtn) unlockBtn.disabled = false\r\n      if (unlockLoading) unlockLoading.classList.add('hidden')\r\n    }\r\n  })\r\n}\r\n\r\n// ============================================================================\r\n// Load Vault\r\n// ============================================================================\r\n\r\nasync function loadVault() {\r\n  try {\r\n    const response = await sendMessage({ type: 'GET_VAULT' })\r\n    \r\n    if (response && response.success) {\r\n      currentVault = response.vault\r\n      renderVault(currentVault)\r\n    } else {\r\n      showError(unlockError, (response && response.error) || 'Failed to load vault')\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to load vault:', error)\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Render Vault\r\n// ============================================================================\r\n\r\nfunction renderVault(entries: PasswordEntry[]) {\r\n  if (!vaultList) return\r\n  vaultList.innerHTML = ''\r\n  \r\n  if (entries.length === 0) {\r\n    if (emptyState) emptyState.classList.remove('hidden')\r\n    return\r\n  }\r\n  \r\n  if (emptyState) emptyState.classList.add('hidden')\r\n  \r\n  entries.forEach((entry, index) => {\r\n    const item = createVaultItem(entry, index)\r\n    vaultList.appendChild(item)\r\n  })\r\n}\r\n\r\nfunction createVaultItem(entry: PasswordEntry, index: number) {\r\n  const div = document.createElement('div')\r\n  div.className = 'vault-item'\r\n  \r\n  div.innerHTML = `\r\n    <div class=\"vault-item-header\">\r\n      <div class=\"vault-item-title\">${escapeHtml(entry.siteName)}</div>\r\n      <div class=\"vault-item-actions\">\r\n        <button class=\"action-btn edit-btn\">Edit</button>\r\n        <button class=\"action-btn delete-btn delete\">Delete</button>\r\n        <button class=\"copy-btn\">Copy</button>\r\n      </div>\r\n    </div>\r\n    <div class=\"vault-item-url\">${escapeHtml(entry.siteUrl)}</div>\r\n    <div class=\"vault-item-username\">${escapeHtml(entry.username)}</div>\r\n  `\r\n  \r\n  // Add copy functionality\r\n  const copyBtn = div.querySelector('.copy-btn') as HTMLButtonElement\r\n  if (copyBtn) {\r\n    copyBtn.addEventListener('click', (e) => {\r\n      e.stopPropagation()\r\n      copyToClipboard(entry.password, copyBtn)\r\n    })\r\n  }\r\n\r\n  // Add edit functionality\r\n  const editBtn = div.querySelector('.edit-btn') as HTMLButtonElement\r\n  if (editBtn) {\r\n    editBtn.addEventListener('click', (e) => {\r\n      e.stopPropagation()\r\n      startEdit(entry)\r\n    })\r\n  }\r\n\r\n  // Add delete functionality\r\n  const deleteBtn = div.querySelector('.delete-btn') as HTMLButtonElement\r\n  if (deleteBtn) {\r\n    deleteBtn.addEventListener('click', (e) => {\r\n      e.stopPropagation()\r\n      handleDelete(entry.id)\r\n    })\r\n  }\r\n  \r\n  return div\r\n}\r\n\r\nasync function startEdit(entry: PasswordEntry) {\r\n  editingEntryId = entry.id\r\n  const title = document.getElementById('add-password-title')\r\n  if (title) title.textContent = 'Edit Password'\r\n  \r\n  if (siteNameInput) siteNameInput.value = entry.siteName\r\n  if (siteUrlInput) siteUrlInput.value = entry.siteUrl\r\n  if (usernameInput) usernameInput.value = entry.username\r\n  if (passwordInput) passwordInput.value = entry.password\r\n  if (notesInput) notesInput.value = entry.notes || ''\r\n  \r\n  showScreen('add-password')\r\n}\r\n\r\nasync function handleDelete(entryId: string) {\r\n  if (!confirm('Are you sure you want to delete this password?')) return\r\n\r\n  try {\r\n    const response = await sendMessage({\r\n      type: 'DELETE_PASSWORD',\r\n      entryId\r\n    })\r\n    \r\n    if (response && response.success) {\r\n      await loadVault()\r\n    } else {\r\n      alert((response && response.error) || 'Failed to delete password')\r\n    }\r\n  } catch (error: any) {\r\n    alert(error.message)\r\n  }\r\n}\r\n\r\n\r\n// ============================================================================\r\n// Search\r\n// ============================================================================\r\n\r\nif (searchInput) {\r\n  searchInput.addEventListener('input', (e) => {\r\n    const query = (e.target as HTMLInputElement).value.toLowerCase()\r\n    \r\n    if (!query) {\r\n      renderVault(currentVault)\r\n      return\r\n    }\r\n    \r\n    const filtered = currentVault.filter(entry => \r\n      entry.siteName.toLowerCase().includes(query) ||\r\n      entry.siteUrl.toLowerCase().includes(query) ||\r\n      entry.username.toLowerCase().includes(query)\r\n    )\r\n    \r\n    renderVault(filtered)\r\n  })\r\n}\r\n\r\n// ============================================================================\r\n// Add Password\r\n// ============================================================================\r\n\r\nif (addPasswordBtn) {\r\n  addPasswordBtn.addEventListener('click', () => {\r\n    editingEntryId = null\r\n    const title = document.getElementById('add-password-title')\r\n    if (title) title.textContent = 'Add Password'\r\n    if (addPasswordForm) addPasswordForm.reset()\r\n    showScreen('add-password')\r\n  })\r\n}\r\n\r\nif (backBtn) {\r\n  backBtn.addEventListener('click', () => {\r\n    showScreen('vault')\r\n    if (addPasswordForm) addPasswordForm.reset()\r\n    if (addError) addError.classList.add('hidden')\r\n  })\r\n}\r\n\r\nif (addPasswordForm) {\r\n  addPasswordForm.addEventListener('submit', async (e) => {\r\n    e.preventDefault()\r\n    \r\n    const originalBtnText = saveBtn ? saveBtn.textContent : 'Save'\r\n    if (saveBtn) {\r\n      saveBtn.disabled = true\r\n      saveBtn.textContent = 'Saving...'\r\n    }\r\n    if (addError) addError.classList.add('hidden')\r\n    \r\n    const entry: PasswordEntry = {\r\n      id: editingEntryId || crypto.randomUUID(),\r\n      siteName: siteNameInput.value.trim(),\r\n      siteUrl: siteUrlInput.value.trim(),\r\n      username: usernameInput.value.trim(),\r\n      password: passwordInput.value,\r\n      notes: notesInput.value.trim(),\r\n      createdAt: new Date().toISOString(),\r\n      updatedAt: new Date().toISOString()\r\n    }\r\n    \r\n    try {\r\n      const type = editingEntryId ? 'UPDATE_PASSWORD' : 'ADD_PASSWORD'\r\n      const response = await sendMessage({\r\n        type,\r\n        entry\r\n      })\r\n      \r\n      if (response && response.success) {\r\n        // Clear form BEFORE switching screens to ensure clean state\r\n        if (addPasswordForm) addPasswordForm.reset()\r\n        editingEntryId = null\r\n        \r\n        // Reload vault and go back\r\n        await loadVault()\r\n        showScreen('vault')\r\n      } else {\r\n        showError(addError, (response && response.error) || 'Failed to save password')\r\n      }\r\n    } catch (error: any) {\r\n      showError(addError, error.message)\r\n    } finally {\r\n      if (saveBtn) {\r\n        saveBtn.disabled = false\r\n        saveBtn.textContent = originalBtnText\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// ============================================================================\r\n// Password Utilities\r\n// ============================================================================\r\n\r\nif (togglePasswordBtn) {\r\n  togglePasswordBtn.addEventListener('click', () => {\r\n    if (!passwordInput) return\r\n    const type = passwordInput.type === 'password' ? 'text' : 'password'\r\n    passwordInput.type = type\r\n    togglePasswordBtn.textContent = type === 'password' ? '\uD83D\uDC41\uFE0F' : '\uD83D\uDE48'\r\n  })\r\n}\r\n\r\nif (generatePasswordBtn) {\r\n  generatePasswordBtn.addEventListener('click', () => {\r\n    if (!passwordInput) return\r\n    const password = generateSecurePassword()\r\n    passwordInput.value = password\r\n    passwordInput.type = 'text'\r\n    if (togglePasswordBtn) togglePasswordBtn.textContent = '\uD83D\uDE48'\r\n  })\r\n}\r\n\r\nfunction generateSecurePassword(length = 20) {\r\n  const charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=[]{}|;:,.<>?'\r\n  const array = new Uint8Array(length)\r\n  crypto.getRandomValues(array)\r\n  \r\n  let password = ''\r\n  for (let i = 0; i < length; i++) {\r\n    password += charset[array[i] % charset.length]\r\n  }\r\n  \r\n  return password\r\n}\r\n\r\n// ============================================================================\r\n// Lock Vault\r\n// ============================================================================\r\n\r\nif (lockBtn) {\r\n  lockBtn.addEventListener('click', async () => {\r\n    await sendMessage({ type: 'LOCK_VAULT' })\r\n    currentVault = []\r\n    showScreen('unlock')\r\n    if (masterPasswordInput) masterPasswordInput.value = ''\r\n  })\r\n}\r\n\r\n// Listen for lock events from background\r\nchrome.runtime.onMessage.addListener((message) => {\r\n  if (message.type === 'VAULT_LOCKED') {\r\n    currentVault = []\r\n    showScreen('unlock')\r\n    if (masterPasswordInput) masterPasswordInput.value = ''\r\n  }\r\n})\r\n\r\n// ============================================================================\r\n// Helper Functions\r\n// ============================================================================\r\n\r\nasync function sendMessage(message: any): Promise<any> {\r\n  return new Promise((resolve, reject) => {\r\n    chrome.runtime.sendMessage(message, (response) => {\r\n      if (chrome.runtime.lastError) {\r\n        reject(new Error(chrome.runtime.lastError.message))\r\n      } else {\r\n        // Automatic redirection if vault is locked\r\n        if (response && response.error === 'Vault is locked') {\r\n          console.warn('[Popup] Vault is locked, redirecting to unlock screen')\r\n          currentVault = []\r\n          showScreen('unlock')\r\n          if (masterPasswordInput) masterPasswordInput.value = ''\r\n        }\r\n        resolve(response)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction showError(element: HTMLElement | null, message: string) {\r\n  if (!element) return\r\n  element.textContent = message\r\n  element.classList.remove('hidden')\r\n  \r\n  setTimeout(() => {\r\n    element.classList.add('hidden')\r\n  }, 5000)\r\n}\r\n\r\nfunction escapeHtml(text: string) {\r\n  const div = document.createElement('div')\r\n  div.textContent = text\r\n  return div.innerHTML\r\n}\r\n\r\nasync function copyToClipboard(text: string, button: HTMLButtonElement) {\r\n  try {\r\n    await navigator.clipboard.writeText(text)\r\n    \r\n    const originalText = button.textContent\r\n    button.textContent = '\u2713 Copied'\r\n    button.classList.add('copied')\r\n    \r\n    setTimeout(() => {\r\n      button.textContent = originalText\r\n      button.classList.remove('copied')\r\n    }, 2000)\r\n  } catch (error) {\r\n    console.error('Failed to copy:', error)\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Initialize\r\n// ============================================================================\r\n\r\ninit()\r\n\r\n"],
  "mappings": "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",
  "names": ["unlockScreen", "vaultScreen", "addPasswordScreen", "unlockForm", "userIdInput", "masterPasswordInput", "unlockBtn", "unlockLoading", "unlockError", "lockBtn", "searchInput", "vaultList", "emptyState", "addPasswordBtn", "backBtn", "addPasswordForm", "siteNameInput", "siteUrlInput", "usernameInput", "passwordInput", "notesInput", "togglePasswordBtn", "generatePasswordBtn", "addError", "saveBtn", "currentVault", "currentUserId", "editingEntryId", "init", "status", "sendMessage", "loadVault", "showScreen", "saved", "screenName", "userId", "masterPassword", "showError", "response", "error", "renderVault", "entries", "entry", "index", "item", "createVaultItem", "div", "escapeHtml", "copyBtn", "e", "copyToClipboard", "editBtn", "startEdit", "deleteBtn", "handleDelete", "title", "entryId", "query", "filtered", "originalBtnText", "type", "password", "generateSecurePassword", "length", "charset", "array", "i", "message", "resolve", "reject", "element", "text", "button", "originalText"]
}
